#   				模板引擎

## 1. 官网链接

 https://aui.github.io/art-template/zh-cn/index.html

进行动态网站(ajax增删改查)制作过程中,一定会出现许多的结构创建操作,就不可避免的进行字符串拼接.为了减少字符串拼接出错的几率,通常我们都会使用模板引擎进行结构创建操作

```javascript
模板引擎
      - art-template 腾讯
      使用方式:
        - 下载文件
        - 引入文件
        - 找到要设置为模板的结构
        - 设置指定的模板结构: 需要使用script标签,同时将type更改为非js的形式,推荐设置为text/template
          - 将指定的内容填写到内部
        - 在js中调用template()
          - 参数1: 模板的id
          - 参数2: 模板需要使用的数据
          - 返回值: 处理完毕的结构字符串
```

```javascript
<script type="text/template" id="template_test">
    {{$data}} // 如果是访问它的属性可以省略它
    
    {{$data.name}}
    {{$data['name']}}
    {{name}}

    {{$data['datas'][0]}}
    {{datas[1]}}
    
    {{if false}}
      <span>这是span</span>
    {{/if}}

    {{each obj val i}}
      自带索引访问方式为:{{$index}}
      自带值访问方式为:{{$value}}
      自定义索引访问方式为:{{i}}
      自定义值访问方式为:{{val}}
    {{/each}}

    <ul>
      <li>这是原样输出的li</li>
      <li>这是原样输出的li</li>
      <li>这是原样输出的li</li>
      <li>这是原样输出的li</li>
    </ul>
  </script>
```

## 2. 完整示例

```javascript
// 1.使用art-template模板引擎来渲染页面 引入文件,此模板依赖jquery。之前要先引入jquery 
<script src="/static/assets/vendors/art-template/template-web.js"></script> 
// 2.制作模板 type设置为非js类型,同时给script设置一个id值  
  <script type="text/template" id="template">
    {{each $data obj}}   // $data 为模板提供的默认循环数据(可以理解为ajax获取到的datas数据);
      <tr>  
        <td class="text-center"><input type="checkbox" data-id = "{{obj.id}}"></td>
        <td class="text-center"><img class="avatar" src="{{obj.avatar}}"></td>
        <td>{{obj.email}}</td>
        <td>{{obj.slug}}</td>
        <td>{{obj.nickname}}</td>
        <td>{{obj.status}}</td>
        <td class="text-center">
          <a href="javascript:;" class="btn btn-default btn-xs edit" data-id ="{{obj.id}}">编辑</a>
          <a href="javascript:;" class="btn btn-danger btn-xs del" data-id = "{{obj.id}}">删除</a>
        </td>
     </tr>
     {{/each}}
  // 使用模板引擎时,状态栏的英文怎么转换为中文???????????  {{obj.status}}
       $tbody = $('#tbody');
       renderData();
       function renderData () {
          $.ajax({
           url : '/admin/api/_users.php',
           dataType : 'json',
           success : function (datas) {
             var str = template('template',datas);
             $tbody.html(str);
           }
         });
       }
```

